@*  AddUser.cshtml.cs
  *  Version: 1.2 (2022.09.07)
  *
  *  Contributor
  *      Arime-chan
*@

@page
@using Project24.Pages.UserManagement
@model AddUserModel
@{
  ViewData["Title"] = "Thêm tài khoản nhân viên";
  Layout = "_Layout";

  //SelectList roleList = new SelectList((List<Tuple<int, string>>)ViewData["RoleList"], "Item1", "Item2");
}

<h1>@ViewData["Title"]</h1>

<partial name="_StatusMessage" model="Model.StatusMessage" />
<div class="row">
  <div class="col-md-4">
    <form asp-route-returnUrl="@Model.ReturnUrl" method="post">
      <h4>Thêm tài khoản mới cho nhân viên.</h4>
      <hr />
      <div asp-validation-summary="All" class="text-danger"></div>
      <div class="form-group">
        <label asp-for="Data.Username">Tên đăng nhập (tự động điền)</label>
        <input asp-for="Data.Username" class="form-control" id="add-user-input-username" readonly />
        <span asp-validation-for="Data.Username" class="text-danger"></span>
      </div>
      <div class="form-group">
        <label asp-for="Data.FullName">Họ và Tên nhân viên</label>
        <input asp-for="Data.FullName" class="form-control" oninput="updateUsername(this)" />
        <span asp-validation-for="Data.FullName" class="text-danger"></span>
      </div>
      <div class="form-group">
        <label asp-for="Data.RoleLevel">Quyền hạn</label>
        <select asp-for="Data.RoleLevel" class="form-control" asp-items="ViewBag.RoleList">
        </select>
        <input type="hidden" asp-for="Data.RoleLevel" />
        <span asp-validation-for="Data.RoleLevel" class="text-danger"></span>
      </div>


      <hr />
      <div class="form-group">
        <label asp-for="Data.ManagerPassword">Xác nhận Mật khẩu người quản lý</label>
        <input asp-for="Data.ManagerPassword" class="form-control" />
        <span asp-validation-for="Data.ManagerPassword" class="text-danger"></span>
      </div>

      <button type="submit" class="btn btn-primary">Thêm tài khoản</button>
      <button type="button" onclick="location.href='@Model.ReturnUrl'" class="btn btn-secondary">Hủy bỏ</button>

      @Html.AntiForgeryToken()
    </form>
  </div>

</div>

@section Scripts {
<script src="~/js/userManager-addUser.js"></script>
  @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
